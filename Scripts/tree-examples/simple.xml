<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4">
  <BehaviorTree ID="example">
    <Sequence>
      <ReactiveFallback>
        <ScriptCondition code="condition1"/>
        <ReactiveSequence>
          <Script code="action1"/>
          <Fallback>
            <ScriptCondition code="condition2"/>
            <Script code="action2"/>
            <Script code="action3"/>
          </Fallback>
          <Fallback>
            <ScriptCondition code="condition4"/>
            <Script code="action9"/>
          </Fallback>
        </ReactiveSequence>
      </ReactiveFallback>
      <Fallback>
        <ScriptCondition code="condition9"/>
        <Fallback>
          <ScriptCondition code="condition10"/>
          <Script code="action10"/>
        </Fallback>
      </Fallback>
      <Fallback>
        <ScriptCondition code="condition6"/>
        <Fallback>
          <ScriptCondition code="condition7"/>
          <Script code="action11"/>
        </Fallback>
        <Fallback>
          <ScriptCondition code="condition8"/>
          <Script code="action12"/>
        </Fallback>
      </Fallback>
      <ReactiveFallback>
        <ScriptCondition code="condition9"/>
        <Sequence>
          <Script code="action13"/>
          <ReactiveFallback>
            <ScriptCondition code="condition10"/>
            <Script code="action14"/>
            <Script code="action15"/>
          </ReactiveFallback>
          <Script code="action9"/>
          <ReactiveFallback>
            <ScriptCondition code="condition11"/>
            <Script code="action16"/>
          </ReactiveFallback>
          <ReactiveSequence>
            <Script code="action9"/>
            <Script code="action13"/>
          </ReactiveSequence>
        </Sequence>
      </ReactiveFallback>
      <Fallback>
        <ScriptCondition code="condition7"/>
        <Script code="action12"/>
      </Fallback>
      <SubTree ID="subtree"/>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="subtree">
    <Sequence>
      <ReactiveSequence>
        <ForceSuccess>
          <ScriptCondition code="condition21"/>
        </ForceSuccess>
        <Inverter>
          <Script code="action24"/>
        </Inverter>
        <Fallback>
          <ForceFailure>
            <ScriptCondition code="condition21"/>
          </ForceFailure>
          <Script code="action23"/>
        </Fallback>
        <RetryUntilSuccessful num_attempts="5">
          <ReactiveFallback>
            <ScriptCondition code="condition20"/>
            <Repeat num_cycles="1">
              <Script code="action21"/>
            </Repeat>
          </ReactiveFallback>
        </RetryUntilSuccessful>
      </ReactiveSequence>
      <KeepRunningUntilFailure>
        <Script code="action25"/>
      </KeepRunningUntilFailure>
      <RetryUntilSuccessful num_attempts="9">
        <ReactiveSequence>
          <Script code="action25"/>
          <Script code="action25"/>
        </ReactiveSequence>
      </RetryUntilSuccessful>
    </Sequence>
  </BehaviorTree>

  <BehaviorTree ID="teste">
    <Fallback>
      <Sequence name="Defesa">
        <ScriptCondition code="InimigoProximo?"/>
        <Script code="BuscarCobertura"/>
        <Script code="Atirar"/>
      </Sequence>
      <Sequence name="Patrulha">
        <Script code="MoverParaA"/>
        <Script code="MoverParaB"/>
        <Sleep msec="5000"/>
      </Sequence>
    </Fallback>
  </BehaviorTree>

  <BehaviorTree ID="tree">
    <Fallback>
      <Sequence name="Defesa">
        <ScriptCondition code="InimigoProximo?"/>
        <Script code="BuscarCobertura"/>
        <Script code="Atirar"/>
      </Sequence>
      <Sequence name="Patrulha">
        <Script code="MoverParaA"/>
        <Script code="MoverParaB"/>
        <Sleep msec="5000"/>
      </Sequence>
      <RetryUntilSuccessful num_attempts="3">
        <Sequence name="Pegar">
          <Script code="MoverParaObjeto"/>
          <Script code="Guardar"/>
        </Sequence>
      </RetryUntilSuccessful>
      <Fallback>
        <Sequence name="Pegar">
          <Script code="MoverParaObjeto"/>
          <Script code="Guardar"/>
        </Sequence>
        <Sequence name="Pegar">
          <Script code="MoverParaObjeto"/>
          <Script code="Guardar"/>
        </Sequence>
        <Sequence name="Pegar">
          <Script code="MoverParaObjeto"/>
          <Script code="Guardar"/>
        </Sequence>
      </Fallback>
    </Fallback>
  </BehaviorTree>

  <!-- Description of Node Models (used by Groot) -->
  <TreeNodesModel/>

</root>
